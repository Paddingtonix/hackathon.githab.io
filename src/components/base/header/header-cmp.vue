<template>
    <header class="hackathon-header">
        <div class="hackathon-header__nav">
            <svg @click="$router.push('/')" class="hackathon-header__nav__logo" xmlns="http://www.w3.org/2000/svg" width="158" height="20" viewBox="0 0 158 20" fill="none">
                <g clip-path="url(#clip0_6660_439)">
                <path d="M156.752 5.55334C156.123 3.92511 155.042 2.50257 153.633 1.44668C152.221 0.467684 150.525 -0.0352123 148.798 0.013345C147.071 -0.0140608 145.369 0.415361 143.868 1.25668C142.43 2.08451 141.25 3.28481 140.457 4.72667C139.632 6.35124 139.207 8.14384 139.216 9.95971C139.226 11.7756 139.669 13.5638 140.512 15.18C141.344 16.6448 142.571 17.8558 144.058 18.68C145.631 19.5313 147.403 19.9645 149.198 19.9367C150.744 19.9481 152.281 19.7001 153.742 19.2033C155.071 18.7486 156.311 18.072 157.407 17.2033V13.6333C156.477 14.2622 155.46 14.7551 154.386 15.0967C153.18 15.4899 151.92 15.6936 150.649 15.7C149.438 15.7333 148.236 15.4807 147.144 14.9633C146.196 14.4897 145.421 13.7385 144.926 12.8133C144.394 11.7642 144.133 10.602 144.167 9.43001C144.148 8.47791 144.346 7.53374 144.746 6.66668C145.108 5.90271 145.676 5.25201 146.391 4.78667C147.142 4.32801 148.013 4.09621 148.897 4.12001C149.71 4.10097 150.511 4.31901 151.199 4.74667C151.869 5.19057 152.407 5.80287 152.755 6.52001C152.978 6.94031 153.141 7.38901 153.24 7.85334L153.284 8.10001H143.868V11.6333H157.837C157.868 9.55767 157.499 7.49501 156.752 5.55334Z" fill="white"/>
                <path d="M122.077 19.0799C123.744 19.6848 125.512 19.9776 127.288 19.9432C128.973 19.9845 130.651 19.7258 132.242 19.1799C133.463 18.7633 134.527 17.9928 135.293 16.9699C136.007 15.9232 136.37 14.683 136.331 13.4232C136.355 12.4605 136.137 11.5068 135.697 10.6466C135.204 9.81144 134.457 9.15011 133.561 8.75658C132.544 8.26324 131.113 7.92324 129.309 7.75658L125.43 7.42324C124.362 7.32658 123.65 7.14324 123.25 6.85658C123.051 6.72384 122.888 6.54421 122.778 6.33408C122.667 6.12391 122.611 5.88988 122.616 5.65324C122.616 5.33581 122.713 5.02571 122.895 4.76308C123.076 4.50041 123.333 4.29728 123.633 4.17991C124.482 3.83048 125.399 3.67214 126.318 3.71658C127.17 3.68998 128.019 3.81534 128.824 4.08658C129.409 4.28988 129.934 4.63361 130.35 5.08658C130.652 5.42404 130.868 5.82738 130.981 6.26324H135.999C135.866 5.10674 135.387 4.01504 134.622 3.12658C133.721 2.11662 132.584 1.33655 131.309 0.853251C129.802 0.275744 128.194 -0.00949891 126.576 0.0132493C124.999 -0.016867 123.428 0.224548 121.935 0.726581C120.743 1.12564 119.687 1.84089 118.883 2.79325C118.132 3.77048 117.748 4.97271 117.795 6.19658C117.782 7.13981 118.016 8.07048 118.473 8.89991C119.005 9.77144 119.802 10.4569 120.751 10.8599C122.149 11.4541 123.64 11.8081 125.159 11.9066L128.149 12.1766C129.397 12.2932 130.248 12.4799 130.747 12.7432C130.993 12.8538 131.202 13.0323 131.347 13.2572C131.492 13.4821 131.567 13.7436 131.564 14.0099C131.567 14.3558 131.464 14.6947 131.269 14.9824C131.073 15.2702 130.795 15.4934 130.469 15.6232C129.79 15.9566 128.79 16.1166 127.495 16.1166C126.646 16.1307 125.8 16.0183 124.986 15.7832C124.322 15.5955 123.715 15.2524 123.216 14.7832C122.81 14.3867 122.518 13.8908 122.372 13.3466H117.337C117.417 14.5606 117.869 15.7225 118.632 16.6799C119.54 17.7693 120.731 18.5983 122.077 19.0799Z" fill="white"/>
                <path d="M114.197 16.8766L113.801 13.0966L113.462 9.9633L114.448 0.55664H109.305L108.85 4.5133C108.85 4.5133 108.684 4.19663 108.623 4.09663C108.417 3.75067 108.191 3.41677 107.945 3.09664C107.168 2.14014 106.194 1.35628 105.087 0.79664C103.948 0.312428 102.726 0.0465473 101.486 0.0133057C100.023 0.0131257 98.5936 0.445137 97.3835 1.25331C96.145 2.14465 95.1739 3.34807 94.5727 4.73663C93.203 8.09907 93.203 11.8509 94.5727 15.2133C94.9094 15.9934 95.3668 16.7175 95.929 17.36H95.912C95.9629 17.42 96.0205 17.47 96.0714 17.53L96.2646 17.7266C96.4742 17.9432 96.6949 18.149 96.9258 18.3433C97.075 18.4666 97.2174 18.5966 97.3734 18.71C98.5834 19.5181 100.013 19.9502 101.476 19.95C102.711 19.9172 103.928 19.6536 105.063 19.1733C106.17 18.6137 107.145 17.8298 107.921 16.8733C108.167 16.5532 108.393 16.2193 108.599 15.8733C108.661 15.7733 108.827 15.4566 108.827 15.4566L109.281 19.4133H114.438L114.197 16.8766ZM99.1432 7.1333C99.487 6.34823 100.037 5.6672 100.737 5.15997C101.425 4.667 102.258 4.40833 103.11 4.4233C104.009 4.42327 104.889 4.67537 105.646 5.14997C106.465 5.65607 107.172 6.31927 107.725 7.09997C108.335 7.9567 108.787 8.9124 109.061 9.9233V10.0333C108.788 11.0434 108.336 11.9981 107.725 12.8533C107.175 13.6373 106.468 14.3021 105.646 14.8066C104.889 15.2813 104.009 15.5334 103.11 15.5333C102.258 15.5483 101.425 15.2896 100.737 14.7966C100.037 14.2894 99.487 13.6084 99.1432 12.8233C98.3837 11.0001 98.3837 8.95647 99.1432 7.1333Z" fill="white"/>
                <path d="M85.8623 8.13661H90.7616C90.6172 6.64788 90.0896 5.21978 89.2291 3.98661C88.3452 2.75046 87.1673 1.74568 85.7979 1.05995C84.3338 0.344583 82.7162 -0.0143866 81.0816 0.0132832C79.288 -0.0192841 77.5178 0.42035 75.9551 1.28662C74.4971 2.11933 73.3016 3.33166 72.5001 4.78995C71.686 6.40771 71.2622 8.18835 71.2622 9.99328C71.2622 11.7982 71.686 13.5788 72.5001 15.1966C73.2972 16.6529 74.4944 17.8598 75.9551 18.6799C77.4632 19.4689 79.1395 19.8978 80.8477 19.932C82.5558 19.9662 84.248 19.6046 85.7877 18.8766C87.1616 18.19 88.3408 17.1786 89.2189 15.9333C90.0707 14.7154 90.5975 13.3068 90.7515 11.8366H85.8589C85.6846 12.5837 85.3337 13.2799 84.835 13.8687C84.3359 14.4576 83.7025 14.9225 82.9864 15.2257C82.2707 15.529 81.4919 15.662 80.7137 15.6141C79.9356 15.5662 79.1802 15.3387 78.5082 14.9499C77.7606 14.4764 77.1709 13.7971 76.8129 12.9966C76.3918 12.0415 76.188 11.0073 76.2161 9.96661C76.1897 8.91958 76.3931 7.87925 76.8129 6.91661C77.1665 6.10901 77.7565 5.42318 78.5082 4.94661C79.2849 4.49041 80.177 4.25931 81.0816 4.27995C82.23 4.25185 83.3519 4.62111 84.2518 5.32328C85.1133 6.04168 85.6846 7.03975 85.8623 8.13661Z" fill="white"/>
                <path d="M56.229 19.4032H61.1148H69.164L69.6115 15.1332H61.1148V0.539917H56.229V15.1332V19.4032Z" fill="white"/>
                <path d="M51.7129 0.539917H46.8237V19.3999H51.7129V0.539917Z" fill="white"/>
                <path d="M38.5983 1.25664C36.9471 0.43059 35.1209 0 33.2683 0C31.4157 0 29.5894 0.43059 27.9384 1.25664C26.4497 2.07165 25.2233 3.28076 24.3986 4.74663C23.5649 6.36343 23.1304 8.1506 23.1304 9.9633C23.1304 11.776 23.5649 13.5632 24.3986 15.18C25.2199 16.651 26.4468 17.8641 27.9384 18.68C29.5894 19.506 31.4157 19.9366 33.2683 19.9366C35.1209 19.9366 36.9471 19.506 38.5983 18.68C40.0884 17.8653 41.3185 16.6593 42.1516 15.1966C43.0284 13.6072 43.4702 11.8211 43.4332 10.0133C43.478 8.17817 43.0362 6.36317 42.1516 4.74663C41.3185 3.2823 40.0884 2.07408 38.5983 1.25664ZM37.849 12.9733C37.4658 13.787 36.8464 14.4712 36.0689 14.94C35.227 15.4175 34.2672 15.6564 33.2954 15.63C32.3207 15.6551 31.3578 15.4164 30.5118 14.94C29.7249 14.4745 29.096 13.7901 28.7046 12.9733C28.2657 12.0334 28.0512 11.0072 28.0774 9.9733C28.0531 8.93343 28.2663 7.90147 28.7012 6.9533C29.0906 6.1298 29.721 5.43923 30.5118 4.96997C31.358 4.494 32.3208 4.25537 33.2954 4.27997C34.2672 4.25357 35.227 4.4924 36.0689 4.96997C36.8501 5.4418 37.4699 6.1325 37.849 6.9533C38.2741 7.90413 38.4823 8.93493 38.4593 9.9733C38.4833 11.0053 38.2748 12.0298 37.849 12.9733Z" fill="white"/>
                <path d="M18.7566 14.93V11.9733H15.6169L16.0441 8.57999H19.3974V5.61999H16.3832L16.946 0.91333H13.3961L12.8333 5.61999H7.62875L8.1882 0.91333H4.64506L4.08223 5.61999H0.617081V8.57999H3.72961L3.32275 11.9733H0V14.93H2.97013L2.41069 19.6133H5.95721L6.51665 14.93H11.7245L11.1651 19.6133H14.7116L15.2677 14.93H18.7566ZM12.0738 11.9733H6.86927L7.27614 8.57999H12.4806L12.0738 11.9733Z" fill="#03AEE2"/>
                </g>
                <defs>
                <clipPath id="clip0_6660_439">
                <rect width="158" height="20" fill="white"/>
                </clipPath>
                </defs>
            </svg>
            <nav class="hackathon-header__nav__links">
                <a 
                    class="hackathon-header__nav__links__link hackathon__link" 
                    v-for="(link, idx) in menu" 
                    :key="idx"
                >{{ link.name }}</a>
            </nav>
        </div>
        <div class="hackathon-header__social">
            <div class="hackathon-header__social__link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M19.2 4.80005H16C15.7 4.80005 15.5 4.90005 15.4 5.20005C15.4 5.20005 14.1 7.60005 13.7 8.40005C12.6 10.6 11.9 9.90005 11.9 8.90005V5.40005C11.9 4.80005 11.4 4.30005 10.8 4.30005H8.2C7.6 4.30005 6.9 4.60005 6.5 5.10005C6.5 5.10005 7.7 4.90005 7.7 6.60005C7.7 7.00005 7.7 8.20005 7.7 9.20005C7.7 9.60005 7.4 9.90005 7 9.90005C6.8 9.90005 6.6 9.80005 6.4 9.70005C5.4 8.30005 4.6 6.80005 3.9 5.20005C4 5.00005 3.7 4.80005 3.5 4.80005C2.8 4.80005 1.4 4.80005 0.6 4.80005C0.2 4.80005 0 5.00005 0 5.30005C0 5.40005 0 5.40005 0 5.50005C0.9 8.00005 4.8 15.7 9.2 15.7H11C11.4 15.7 11.7 15.4 11.7 15V13.9C11.7 13.5 12 13.2 12.4 13.2C12.6 13.2 12.8 13.3 12.9 13.4L15.1 15.5C15.3 15.7 15.6 15.8 15.8 15.8H18.7C20.1 15.8 20.1 14.8 19.3 14.1C18.8 13.6 16.8 11.5 16.8 11.5C16.5 11.1 16.4 10.6 16.7 10.2C17.3 9.40005 18.4 8.00005 18.8 7.40005C19.6 6.50005 20.7 4.80005 19.2 4.80005Z" fill="#CCE1E7"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <g clip-path="url(#clip0_6660_459)">
                    <path d="M19.9001 3.10004L16.9001 17.3C16.7001 18.3 16.1001 18.6 15.2001 18.1L10.6001 14.7L8.40009 16.8C8.2001 17 7.9001 17.3 7.5001 17.3L7.8001 12.6L16.4001 5.00004C16.8001 4.70004 16.3001 4.50004 15.8001 4.80004L5.3001 11.4L0.700096 10C-0.299904 9.70004 -0.299904 9.00004 0.900096 8.50004L18.6001 1.70004C19.5001 1.40004 20.2001 1.90004 19.9001 3.10004Z" fill="#CCE1E7"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_6660_459">
                    <rect width="20" height="20" fill="white"/>
                    </clipPath>
                    </defs>
                </svg>
            </div>
            <btn-cmp 
                :btn_type="'secondary'"
                :btn_text="is_auth_state"
                class="hackathon-header__social__btn"
                @click="changeIsAuthState"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><path d="M6.5 17C6.5 17.93 6.5 18.395 6.60222 18.7765C6.87962 19.8117 7.68827 20.6204 8.72354 20.8978C9.10504 21 9.57003 21 10.5 21H16.7C18.3802 21 19.2202 21 19.862 20.673C20.4265 20.3854 20.8854 19.9265 21.173 19.362C21.5 18.7202 21.5 17.8802 21.5 16.2V7.8C21.5 6.11984 21.5 5.27976 21.173 4.63803C20.8854 4.07354 20.4265 3.6146 19.862 3.32698C19.2202 3 18.3802 3 16.7 3H10.5C9.57003 3 9.10504 3 8.72354 3.10222C7.68827 3.37962 6.87962 4.18827 6.60222 5.22354C6.5 5.60504 6.5 6.07003 6.5 7M12.5 8L16.5 12M16.5 12L12.5 16M16.5 12H3.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </btn-cmp>
        </div>
    </header>
</template>
<script lang="ts">
import { defineComponent } from 'vue'
import { mapState, mapMutations } from 'vuex'
import btnCmp from '../../ui-components/btn-cmp/btn-cmp.vue'


export default defineComponent({
    props: {
        menu: {
            type: Array,
            default: () => [{
                link: '/',
                name: 'Хакатон'
            }]
        }
    },
    data() {
        return {
            is_auth_state: 'Вход'
        }
    },
    components: {
        'btn-cmp': btnCmp
    },
    computed: {
        ...mapState('authorizationModule', ['isAuth'])
    },
    watch: {
        isAuth() {
            if(this.isAuth) {
                this.is_auth_state = 'Выход'
            } else {
                this.is_auth_state = 'Вход'
            }   
        }
        
    },
    methods: {
        ...mapMutations('authorizationModule', ['logOut']),

        changeIsAuthState() {
            if(this.isAuth) {
                this.logOut()
            } else {
                this.$router.push('/authorization')
            }
        }
    }
})
</script>
